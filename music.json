<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hunsy ğŸ» | BG Music</title>
  <link rel="stylesheet" href="style.css">
</head>

<body class="dark purpleBlack">

  <!-- Particle Background -->
  <div class="particles"></div>

  <!-- Header -->
  <header class="top">
    <h1>Hunsy ğŸ»</h1>

    <nav class="nav">
      <a href="index.html">ğŸ  Home</a>
      <a href="music.html">ğŸµ BG Music</a>
    </nav>
  </header>

  <!-- MUSIC PLAYER -->
  <main class="music-player">
    <img id="cover" class="album">
    <h2 id="title"></h2>
    <p id="artist"></p>

    <audio id="audio"></audio>

    <div class="controls">
      <button onclick="prev()">â®</button>
      <button onclick="playPause()">â–¶ / â¸</button>
      <button onclick="next()">â­</button>
    </div>

    <input type="range" min="0" max="1" step="0.01"
           onchange="audio.volume=this.value">
  </main>

<script>
let songs = [];
let index = 0;
const audio = document.getElementById("audio");

fetch("music.json")
  .then(r => r.json())
  .then(d => {
    songs = d.songs;
    loadSong(0);
  });

function loadSong(i) {
  index = i;
  const s = songs[i];
  cover.src = s.image;
  title.innerText = s.name;
  artist.innerText = s.artist;
  audio.src = s.audio;
}

function playPause() {
  audio.paused ? audio.play() : audio.pause();
}
function next() {
  loadSong((index + 1) % songs.length);
  audio.play();
}
function prev() {
  loadSong((index - 1 + songs.length) % songs.length);
  audio.play();
}
</script>

</body>
</html>
